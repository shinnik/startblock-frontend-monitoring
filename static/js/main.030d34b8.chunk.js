(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,a){e.exports={section:"Plot_section__Av2nA",plot:"Plot_plot__2ik0g"}},104:function(e,t,a){e.exports=a.p+"static/media/I.c1bce14e.svg"},105:function(e,t,a){e.exports=a.p+"static/media/Triangle.98540fe6.svg"},106:function(e,t,a){e.exports=a.p+"static/media/E.3ee2f07b.svg"},107:function(e,t,a){e.exports=a.p+"static/media/A.df8e9f1e.svg"},108:function(e,t,a){e.exports={LogoContainer:"Icon_LogoContainer__3UWk6",I:"Icon_I__33V3I",D:"Icon_D__1yiT3",E:"Icon_E__22eDn",A:"Icon_A__1qMKE"}},109:function(e,t,a){e.exports={header__container:"Header_header__container__1LmAh",header__label:"Header_header__label__3ZQXT"}},11:function(e,t,a){e.exports={"plot-header__container":"PlotHeader_plot-header__container__yFegi","plot-header__header-container":"PlotHeader_plot-header__header-container__2fFgE","plot-header__header":"PlotHeader_plot-header__header__2sj_E","plot-header__legend-container":"PlotHeader_plot-header__legend-container__XJg6b","plot-header__legend":"PlotHeader_plot-header__legend__zrPvO","plot-header__legend--traditional":"PlotHeader_plot-header__legend--traditional__18vxg","plot-header__legend--distributed":"PlotHeader_plot-header__legend--distributed__2FGa-","plot-header__legend--internet":"PlotHeader_plot-header__legend--internet__3pbwF"}},151:function(e,t,a){e.exports={Main:"Main_Main__32U6n"}},152:function(e,t,a){e.exports={Name:"EnergyCell_Name__1-Xp0",Box:"EnergyCell_Box__uNUY6",Addition:"EnergyCell_Addition__3NSiQ"}},156:function(e,t,a){e.exports=a.p+"static/media/group.0077df93.svg"},157:function(e,t,a){e.exports={EnergyRouterIconContainer:"EnergyRouterIcon_EnergyRouterIconContainer__2lssa"}},161:function(e,t,a){e.exports={App:"App_App__15LM-"}},167:function(e,t,a){e.exports=a(328)},17:function(e,t,a){e.exports={Branch:"Branch_Branch__1MzFw",BranchReversed:"Branch_BranchReversed__3w36x",Item1:"Branch_Item1__LIzSf",Item2:"Branch_Item2__3Om1E",Item3:"Branch_Item3__3wDNC",Item1_r:"Branch_Item1_r__3CKJ6",Item2_r:"Branch_Item2_r__PUNAj",Item3_r:"Branch_Item3_r__3cQ-i"}},172:function(e,t,a){},173:function(e,t,a){},174:function(e,t,a){},18:function(e,t,a){e.exports={Net:"Net_Net__12RSl",Item1:"Net_Item1__2Y3IY",Item2:"Net_Item2__2-6Aj",Item3:"Net_Item3__3W_je",Item4:"Net_Item4__11yLL",Item5:"Net_Item5__1ypva",Item7:"Net_Item7__2Ca4V",Item8:"Net_Item8__1y4At"}},234:function(e,t,a){},328:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(67),c=a.n(o),i=(a(172),a(341)),l=a(163),s=(a(173),a(174),Object(l.a)({typography:{fontFamily:["Manrope","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),body1:{fontSize:"26px"},body2:{fontSize:"28px",letterSpacing:"0.44px",lineHeight:"120%"},h5:{fontSize:"28px",lineHeight:"120%"},h4:{fontSize:"44px"},caption:{fontSize:"26px",lineHeight:"100%"}},palette:{primary:{main:"#0099DC"},secondary:{main:"#FF8282"}},overrides:{MuiPaper:{elevation1:{backgroundColor:"#0099DC",color:"white",boxShadow:"0px 5.58107px 22.3243px rgba(0, 0, 0, 0.3)",borderRadius:"11.1621px"}},MuiTableCell:{head:{color:"black"}},MuiTableRow:{root:{height:"60px"}}}})),d=a(151),u=a.n(d),_=a(5),m=a.n(_),p=a(164),f=a(339),b=a(340),g=a(343),h="MIPTik",v="\u043a\u0412\u0442",w="...",I=a(152),y=a.n(I);var E=function(e){var t=e.name,a=e.money,r=Object(p.a)(e,["name","money"]);return n.a.createElement(f.a,Object.assign({elevation:1},r),n.a.createElement(b.a,{style:{fontSize:"32px",paddingTop:"8px",paddingLeft:"10px"}},n.a.createElement("b",null,t)),n.a.createElement(g.a,{className:y.a.Box},n.a.createElement(g.a,{style:{paddingBottom:"8px"}},n.a.createElement(b.a,{style:{fontFamily:"Roboto Mono"},variant:"body2"},"".concat(a)),n.a.createElement(b.a,{variant:"body2"},"".concat(h)))))},O=a(48),A=a(4),j=a.n(A),k={tumblerWidth:200,tumblerThickness:5,triangleSize:25,blueCardWidth:"122px",blueCardHeight:"106px"},P=a(154),N=a.n(P),C=a(344);function x(e,t){if(t)switch(e){case"ru":return j.a.Arrow__ru;case"rd":return j.a.Arrow__rd;case"lu":return j.a.Arrow__lu;case"ld":return j.a.Arrow__ld;case"r":return j.a.Arrow__r;case"l":return j.a.Arrow__l;case"u":return j.a.Arrow__u;case"d":return j.a.Arrow__d;default:throw new Error("Unknown direction")}else switch(e){case"ru":return j.a.Arrow_g__ru;case"rd":return j.a.Arrow_g__rd;case"lu":return j.a.Arrow_g__lu;case"ld":return j.a.Arrow_g__ld;case"r":return j.a.Arrow_g__r;case"l":return j.a.Arrow_g__l;case"u":return j.a.Arrow_g__u;case"d":return j.a.Arrow_g__d;default:throw new Error("Unknown direction")}}function S(e){switch(e){case"l":return"left";case"u":return"up";case"d":return"down";default:return"right"}}function T(e){switch(e){case"ru":return j.a.PowerIcon__RightUp;case"rd":return j.a.PowerIcon__RightDown;case"lu":return j.a.PowerIcon__LeftUp;case"ld":return j.a.PowerIcon__LeftDown;case"l":return j.a.PowerIcon__Left;case"u":return j.a.PowerIcon__Up;case"d":return j.a.PowerIcon__Down;case"r":return j.a.PowerIcon__Right;default:throw new Error("Invalid direction")}}var D=function(e){var t=e.direction,a=e.power,r=e.id,o=e.dispatch,c=e.koeff,i=e.hovered,l=e.noHover,s=function(){o({id:r,state:!a})};return n.a.createElement(g.a,{style:{pointerEvents:l?"none":"auto"},className:x(t,a)},n.a.createElement(N.a,Object.assign({stroke:!0,unclosed:!0,className:j.a.PureArrow,direction:S(t)},function(e,t,a){switch(e){case"r":case"l":case"d":case"u":case"ru":case"rd":case"lu":case"ld":return{shaftWidth:k.tumblerThickness,shaftLength:k.tumblerWidth*(a||1)-k.triangleSize*t+k.triangleSize*(a||1)-1.5*k.tumblerThickness,headWidth:k.triangleSize,headLength:k.triangleSize*t};default:throw new Error("Unknown direction.")}}(t,a,c),{fill:a?"#EB5757":"#D0D0D0",onClick:s})),i&&n.a.createElement(g.a,{onClick:s},n.a.createElement(C.a,{style:{backgroundColor:a?"#EB5757":"#878787",width:k.triangleSize,height:k.triangleSize},className:T(t)})," "))};a(234);var M=function(e){var t=e.direction,a=e.power,o=e.label,c=e.type,i=e.align,l=e.id,s=e.dispatch,d=e.koeff,u=e.noHover,_=Object(r.useState)(0),m=Object(O.a)(_,2),p=m[0],f=m[1],h=Object(r.useState)(!1),w=Object(O.a)(h,2),I=w[0],y=w[1];return n.a.createElement("div",{className:"LabeledTumbler LabeledTumbler__".concat(t)},n.a.createElement(g.a,{onMouseLeave:function(){!u&&f(0),!u&&y(!1)},onMouseEnter:function(){!u&&f(1),!u&&y(!0)},className:"Arrow__".concat(c)},n.a.createElement(D,{noHover:u,direction:t,power:a,id:l,dispatch:s,koeff:d,hovered:I})),n.a.createElement(g.a,{hidden:!a,className:15===l?"Label__special Label__".concat(c," Align_").concat(i):"Label__".concat(c," Align_").concat(i)},n.a.createElement(b.a,{style:{fontFamily:"Roboto Mono"},display:"inline",variant:"caption",color:"secondary"},"".concat(o)),n.a.createElement(b.a,{style:{opacity:p},display:"inline",variant:"caption",color:"secondary"}," ".concat(v))))},L=a(17),R=a.n(L),U=[{name:"\u0421\u043e\u043b\u043d\u0435\u0447\u043d\u0430\u044f \u043f\u0430\u043d\u0435\u043b\u044c",src:"images/solar.png"},{name:"\u0421\u043e\u043b\u043d\u0435\u0447\u043d\u0430\u044f \u043f\u0430\u043d\u0435\u043b\u044c",src:"images/solar_mini.png"},{name:"\u0411\u0435\u043d\u0437\u043e-\u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440",src:"images/benz.png"},{name:"\u0410\u043a\u043a\u0443\u043c\u0443\u043b\u044f-\u0442\u043e\u0440",src:"images/acc.png"},{name:"\u041d\u0430\u0433\u0440\u0443\u0437\u043a\u0430",src:"images/gulp.png"}];var B=function(e){var t=e.type,a=e.dispatch,r=e.power,o=e.label,c=e.id,i=e.direction,l=e.reversed;return n.a.createElement("div",{className:l?R.a.BranchReversed:R.a.Branch},n.a.createElement(g.a,{className:l?R.a.Item1_r:R.a.Item1},n.a.createElement(b.a,{variant:"h5"},U[t].name)),n.a.createElement(g.a,{className:l?R.a.Item2_r:R.a.Item2},n.a.createElement("img",{style:{maxWidth:"100%",maxHeight:"100%"},src:U[t].src,alt:U[t].name})),n.a.createElement(g.a,{className:l?R.a.Item3_r:R.a.Item3},n.a.createElement(M,{noHover:4===t,type:"hu",dispatch:a,power:r,align:"c",label:o,direction:i,id:c,koeff:.82})))},z=[m.a.Item8,m.a.Item10,m.a.Item21,m.a.Item23],F=[m.a.Item3,m.a.Item5,m.a.Item27,m.a.Item29],W=[m.a.Item9,m.a.Item15,m.a.Item16,m.a.Item160,m.a.Item17,m.a.Item22],H=[m.a.Item7,m.a.Item11,m.a.Item19,m.a.Item24],G=[m.a.Item12,m.a.Item13,m.a.Item20,m.a.Item25],J=[function(){return"hu"},function(){return"vl"},function(e){return e},function(e){return e},function(){return"vr"},function(){return"hd"}],X=[function(){return"c"},function(e){return e?"up":"down"},function(){},function(){},function(e){return e?"up":"down"},function(){return"c"}],Z=[function(e){return e?"r":"l"},function(e){return e?"d":"u"},function(e){return e?"rd":"lu"},function(e){return e?"ld":"ru"},function(e){return e?"d":"u"},function(e){return e?"r":"l"}];function q(e){switch(e){case 1:case 6:return 1.12;case 3:case 4:return 1.55;case 2:case 5:return.97;default:return 1}}var K=function(e){var t=e.onToggle,a=e.connections,r=e.energyCells;return n.a.createElement("div",{className:m.a.InnerPart},r.map(function(e,t){return n.a.createElement(E,Object.assign({key:t},e.profile,{className:z[t]}))}),a.map(function(e,a){return n.a.createElement(g.a,{key:a,className:W[a]},n.a.createElement(M,{power:e.active,type:J[a](Z[a](e.output)),align:X[a](Z[a](e.output)),label:"".concat(e.performance),direction:Z[a](e.output),id:[9,15,16,160,17,22][a],dispatch:t,koeff:q(a+1)}))}),r.map(function(e,a){return n.a.createElement(g.a,{key:a,className:F[a]},n.a.createElement(M,{direction:a<=1?"d":"u",label:e.net.performance,align:a<=1?"down":"up",type:"vr",power:e.net.active,id:[3,5,27,29][a],dispatch:t,koeff:.67}))}),r.map(function(e,a){return n.a.createElement(g.a,{key:a,className:H[a]},n.a.createElement(B,{type:e.generator.type,id:[7,11,19,24][a],label:e.generator.performance,dispatch:t,power:e.generator.active,direction:a%2===0?e.generator.output?"l":"r":e.generator.output?"r":"l",reversed:a%2!==0}))}),r.map(function(e,a){return n.a.createElement(g.a,{key:a,className:G[a]},n.a.createElement(B,{type:4,id:[12,13,20,25][a],label:e.load.performance,dispatch:t,power:e.load.active,direction:a%2===0?"l":"r",reversed:a%2!==0}))}),n.a.createElement("div",{className:m.a.Item1},n.a.createElement(b.a,{variant:"body2",color:"secondary"},"\u0412\u0441\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0432 ",v)))},Q=a(6),Y=a(20),V=a(39),$=a(74),ee=a(73),te=a(75),ae=a(18),re=a.n(ae),ne=a(21),oe=a(156),ce=a.n(oe),ie=a(157),le=a.n(ie);var se=function(){return n.a.createElement("div",{className:le.a.EnergyRouterIconContainer},n.a.createElement("img",{alt:"\u042d\u043d\u0435\u0440\u0433\u043e\u0440\u043e\u0443\u0442\u0435\u0440",src:ce.a,style:{zoom:1.3}}))},de=function(e){function t(){return Object(Y.a)(this,t),Object($.a)(this,Object(ee.a)(t).apply(this,arguments))}return Object(te.a)(t,e),Object(V.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:re.a.Net},n.a.createElement(b.a,{variant:"h4",className:re.a.Item1},n.a.createElement("b",null,"\u0421\u0435\u0442\u044c")),n.a.createElement("div",{className:re.a.Item2}),n.a.createElement("div",{className:re.a.Item3},n.a.createElement(se,null)),n.a.createElement("div",{className:re.a.Item4}),n.a.createElement(b.a,{style:{fontFamily:"Roboto Mono"},variant:"body2",color:"secondary",className:re.a.Item8},this.props.sumPerformance),n.a.createElement(g.a,{className:re.a.Item7},n.a.createElement(b.a,null,"\u042d\u043d\u0435\u0440\u0433\u043e\u0440\u043e\u0443\u0442\u0435\u0440"),n.a.createElement(b.a,{display:"inline",style:{fontFamily:"Roboto Mono"},variant:"body2",color:"secondary"},"".concat(this.props.performance)),n.a.createElement(b.a,{display:"inline",variant:"body2",color:"secondary"}," ".concat(v))),n.a.createElement(g.a,{className:re.a.Item5},n.a.createElement(b.a,{style:{fontFamily:"Roboto Mono"}},"".concat(this.props.money)),n.a.createElement(b.a,null,"".concat(h))))}}]),t}(n.a.Component),ue=Object(ne.b)(function(e){return Object(Q.a)({},e._net,{energyCells:e.energyCells})})(de),_e="TUMBLER_TOGGLE",me="SET_MODE",pe="NEW_WEBSOCKET_MESSAGE",fe=a(158),be=a.n(fe),ge="wss://onder2.herokuapp.com",he=a(40),ve=new(function(){function e(t){var a=this;Object(Y.a)(this,e),this.sockets=[],this.handler=function(){},this.endpoints=t,t.forEach(function(e){var t=new he.w3cwebsocket("".concat(ge,"/").concat(e));t.onopen=function(){},t.onmessage=function(t){try{var r=JSON.parse(t.data);a.handler({payload:{uri:e,data:r}})}catch(n){}},a.sockets.push(t)})}return Object(V.a)(e,[{key:"setHandler",value:function(e){this.handler=e}},{key:"send",value:function(e,t){var a=JSON.stringify(Object.assign(e,{time:new Date}));this.sockets[this.endpoints.indexOf(t)].send(a)}},{key:"sendSpecific",value:function(e){switch(e.id){case 3:case 5:case 27:case 29:case 7:case 19:case 11:case 24:this.send({id:[3,5,27,29,7,12,19,20,11,13,24,25].indexOf(e.id)+1,status:e.state},"arrows");break;case 9:case 17:case 22:case 15:case 160:case 16:this.send({id:[9,17,22,15,160,16].indexOf(e.id)+1,status:e.state},"arrowdirections")}}}]),e}())(["cells","arrows","arrowdirections","router"]);var we=Object(ne.b)(function(e){return{energyCells:e.energyCells,connections:e.connections}},function(e){return{onMessage:function(t){return e(function(e){return Object(Q.a)({type:pe},e)}(t))}}})(function(e){var t=e.energyCells,a=e.connections,o=e.onMessage,c=be()();return Object(r.useEffect)(function(){ve.setHandler(o)},[]),n.a.createElement(g.a,{style:{height:"55%",zoom:Math.min(c.innerWidth/2800,1)},className:u.a.Main},n.a.createElement(ue,null),n.a.createElement(K,{onToggle:function(e){return ve.sendSpecific(e)},energyCells:t,connections:a}))}),Ie=a(23),ye=a(77),Ee=a.n(ye),Oe=(a(256),a(159)),Ae=a.n(Oe),je=a(42),ke=a.n(je),Pe=a(11),Ne=a.n(Pe),Ce=function(){var e=ke()(Ne.a["plot-header__legend"],Ne.a["plot-header__legend--traditional"]),t=ke()(Ne.a["plot-header__legend"],Ne.a["plot-header__legend--distributed"]),a=ke()(Ne.a["plot-header__legend"],Ne.a["plot-header__legend--internet"]);return n.a.createElement("div",{className:Ne.a["plot-header__container"]},n.a.createElement("div",{className:Ne.a["plot-header__header-container"]},n.a.createElement("h2",{className:Ne.a["plot-header__header"]},"\u0421\u043e\u0432\u043e\u043a\u0443\u043f\u043d\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u044d\u043d\u0435\u0440\u0433\u0438\u0438")),n.a.createElement("div",{className:Ne.a["plot-header__legend-container"]},n.a.createElement("p",{className:e},"\u0422\u0440\u0430\u0434\u0438\u0446\u0438\u043e\u043d\u043d\u0430\u044f \u044d\u043d\u0435\u0440\u0433\u043e\u0441\u0438\u0441\u0442\u0435\u043c\u0430"),n.a.createElement("p",{className:t},"\u0420\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u0430\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f"),n.a.createElement("p",{className:a},"\u0418\u043d\u0442\u0435\u0440\u043d\u0435\u0442 \u044d\u043d\u0435\u0440\u0433\u0438\u0438")))},xe=a(103),Se=a.n(xe),Te=function(e){var t=e.internetData,a=e.distributionData,o=e.traditionalData,c=e.traditionalDataCurrent,i=e.distributionDataCurrent,l=e.internetDataCurrent,s=e.labels,d=Object(r.useRef)(null),u=Object(r.useRef)(null),_=Object(r.useState)(!1),m=Object(O.a)(_,2),p=m[0],f=m[1],b=function(){u.current&&u.current.destroy();var e=new Ae.a(d.current,{type:"line",data:{labels:s,datasets:[{label:"\u0422\u0440\u0430\u0434\u0438\u0446\u0438\u043e\u043d\u043d\u0430\u044f \u044d\u043d\u0435\u0440\u0433\u043e\u0441\u0438\u0441\u0442\u0435\u043c\u0430",data:o,borderColor:"rgb(235, 87, 87)",borderWidth:3,lineTension:0,fill:!1,backgroundColor:"rgb(235, 87, 87)",radius:0},{label:"\u0422\u0435\u043a\u0443\u0449\u0435\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435",data:c,borderColor:"rgb(235, 87, 87)",borderWidth:3,lineTension:0,fill:!1,backgroundColor:"rgb(235, 87, 87)",radius:3},{label:"\u0420\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u0430\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f",data:a,borderColor:"goldenrod",borderWidth:3,lineTension:0,fill:!1,backgroundColor:"goldenrod",radius:0},{data:i,label:"\u0422\u0435\u043a\u0443\u0449\u0435\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435",borderColor:"goldenrod",borderWidth:3,lineTension:0,fill:!1,backgroundColor:"goldenrod",radius:3},{label:"\u0418\u043d\u0442\u0435\u0440\u043d\u0435\u0442 \u044d\u043d\u0435\u0440\u0433\u0438\u0438",data:t,borderColor:"rgb(50,205,50)",borderWidth:3,lineTension:0,fill:!1,backgroundColor:"rgb(50,205,50)",radius:0},{data:l,label:"\u0422\u0435\u043a\u0443\u0449\u0435\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435",borderColor:"rgb(50,205,50)",borderWidth:3,lineTension:0,fill:!1,backgroundColor:"rgb(50,205,50)",radius:3}]},options:{responsive:!0,maintainAspectRatio:!1,animation:!1,legend:{display:!1},tooltips:{filter:function(e){return 0===e.datasetIndex||2===e.datasetIndex||4===e.datasetIndex}},layout:{padding:{top:55,bottom:0,right:45,left:65}},scales:{xAxes:[{gridLines:{color:"rgb(0, 0, 0, 0)",zeroLineColor:"#343434"},ticks:{autoSkip:!0,minTicksLimit:7,maxTicksLimit:8,maxRotation:0,minRotation:0,fontColor:"#343434",fontFamily:"'Manrope', sans-serif",fontSize:12}}],yAxes:[{position:"right",scaleLabel:{display:!0,labelString:"MIPTik/\u043a\u0412\u0442\u22c5\u0447",fontFamily:"'Manrope', sans-serif",fontColor:"#343434",fontSize:12},gridLines:{color:"rgb(0, 0, 0, 0)",zeroLineColor:"#343434"},ticks:{min:0,beginAtZero:!0,padding:15,fontFamily:"'Manrope', sans-serif",fontColor:"#343434",fontSize:12}}]}}});u.current=e};return Object(r.useEffect)(function(){return window.onresize=function(){b(),f(!p)}},[p]),Object(r.useEffect)(function(){return b()}),n.a.createElement("section",{className:Se.a.section},n.a.createElement(Ce,null),n.a.createElement("canvas",{className:Se.a.plot,ref:d}))},De=a(160),Me=a.n(De),Le=function e(){Object(Y.a)(this,e)};Le.getInitialPoints=function(){return Me.a.get("https://Onder2.herokuapp.com/data").then(function(e){return e.data})};var Re=new he.w3cwebsocket("wss://Onder2.herokuapp.com/plot"),Ue=function(e){function t(){var e,a;Object(Y.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object($.a)(this,(e=Object(ee.a)(t)).call.apply(e,[this].concat(n)))).state={traditional:[],traditionalCurrent:[],distributed:[],distributedCurrent:[],internet:[],internetCurrent:[],labels:[]},a.separateData=function(e){if(e){var t=Object.values(e),a=t.map(function(e){return e.value}),r=t.map(function(e){return e.time}),n=a.map(function(e,t){return t!==a.length-1?null:e});return{values:a,labels:r,last:n}}},a.handleResponse=function(e){var t={values:[],last:[],labels:[]},r=a.separateData(e.traditional||t),n=a.separateData(e.distributed||t),o=a.separateData(e.internet||t);a.setState({labels:o.labels}),a.setState({traditional:r.values}),a.setState({distributed:n.values}),a.setState({internet:o.values}),a.setState({traditionalCurrent:r.last}),a.setState({distributedCurrent:n.last}),a.setState({internetCurrent:o.last})},a.splicePlot=function(e){var t=a.state,r=t.internet,n=t.internetCurrent,o=t.traditional,c=t.traditionalCurrent,i=t.distributed,l=t.distributedCurrent,s=t.labels;if("internet"!==e.id||Ee()(r))if("distributed"!==e.id||Ee()(i)){if("traditional"===e.id&&!Ee()(o)){var d=Object(Ie.a)(o),u=Object(Ie.a)(c);u.pop(),u.push(e.value),d.shift(),d.push(e.value),a.setState({traditional:d}),a.setState({traditionalCurrent:u})}}else{var _=Object(Ie.a)(i),m=Object(Ie.a)(l);m.pop(),m.push(e.value),_.shift(),_.push(e.value),a.setState({distributed:_}),a.setState({distributedCurrent:m})}else{var p=Object(Ie.a)(r),f=Object(Ie.a)(n);f.pop(),f.push(e.value),p.shift(),p.push(e.value),a.setState({internet:p}),a.setState({internetCurrent:f})}var b=Object(Ie.a)(s);b.shift(),b.push(e.time),a.setState({labels:b})},a}return Object(te.a)(t,e),Object(V.a)(t,[{key:"componentDidMount",value:function(){var e=this;Re.onopen=function(){console.log("WebSocket Client Connected")},Le.getInitialPoints().then(function(t){return e.handleResponse(t)}).then(function(){return Re.onmessage=function(t){var a=t.data;console.log(e.state.labels,"LABS");var r=JSON.parse(a);e.splicePlot(r)}})}},{key:"render",value:function(){var e=this.state,t=e.internet,a=e.internetCurrent,r=e.traditional,o=e.traditionalCurrent,c=e.distributed,i=e.distributedCurrent,l=e.labels;return n.a.createElement(n.a.Fragment,null,n.a.createElement(Te,{traditionalData:r,traditionalDataCurrent:o,distributionData:c,distributionDataCurrent:i,internetData:t,internetDataCurrent:a,labels:l}))}}]),t}(r.Component),Be=a(161),ze=a.n(Be),Fe=a(104),We=a.n(Fe),He=a(105),Ge=a.n(He),Je=a(106),Xe=a.n(Je),Ze=a(107),qe=a.n(Ze),Ke=a(108),Qe=a.n(Ke),Ye=function(){var e=[We.a,Ge.a,Xe.a,qe.a];return n.a.createElement("div",{className:Qe.a.LogoContainer},e.map(function(e,t){return n.a.createElement("img",{alt:["I","D","E","A"][t],key:t,className:Qe.a[(a={I:We.a,D:Ge.a,E:Xe.a,A:qe.a},Object.keys(a))[t]],src:e});var a}))},Ve=[{id:"regular",label:"\u0428\u0422\u0410\u0422\u041d\u042b\u0419 \u0420\u0415\u0416\u0418\u041c"},{id:"limited_network",label:"\u0421 \u041e\u0413\u0420\u0410\u041d\u0418\u0427\u0415\u041d\u0418\u0415\u041c \u0421\u0415\u0422\u0418"},{id:"no_network",label:"\u0411\u0415\u0417 \u0421\u0415\u0422\u0418"},{id:"no_neighbors",label:"\u0411\u0415\u0417 \u0421\u041e\u0421\u0415\u0414\u0415\u0419"}],$e=a(49),et=a.n($e),tt={regular:1,limited_network:2,no_network:3,no_neighbors:4},at=new he.w3cwebsocket("wss://onder2.herokuapp.com/preset"),rt=function(e){var t=e.setMode,a=e.mode;Object(r.useEffect)(function(){at.onopen=function(){console.log("WebSocket Client Connected")}},[]);var o=ke()(et.a["buttons-group__button"],et.a["buttons-group__button--active"]),c=function(e){at.send(JSON.stringify({time:Date.now(),value:tt[e.target.id]})),t(e.target.id)};return n.a.createElement("div",{className:et.a["buttons-group__container"]},Ve.map(function(e){return n.a.createElement("button",{key:e.id,id:e.id,className:e.id===a?o:et.a["buttons-group__button"],onClick:c},e.label)}))},nt=a(109),ot=a.n(nt),ct=function(e){var t=e.setMode,a=e.mode;return n.a.createElement("div",{className:ot.a.header__container},n.a.createElement(Ye,null),n.a.createElement("h1",{className:ot.a.header__label},"\u041c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433"),n.a.createElement(rt,{setMode:t,mode:a}))},it=function(e){return{type:me,mode:e}},lt=Object(ne.b)(function(e){return{mode:e.hdr.mode}},function(e){return{setMode:function(t){return e(it(t))}}})(function(e){var t=e.mode,a=e.setMode;return n.a.createElement(n.a.Fragment,null,n.a.createElement(ct,{mode:t,setMode:a}))});var st=function(){return n.a.createElement(i.a,{theme:s},n.a.createElement("div",{className:ze.a.App},n.a.createElement(lt,null),n.a.createElement(we,null),n.a.createElement(Ue,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var dt=a(22),ut=a(162),_t={mode:"none",generator:4,net:3,load:4,connections:6,limited:!1};function mt(e){var t=e.generator,a=e.net,r=e.load,n=e.connections,o=e.limited;return 4===t?4===a?4===r?6===n?o?"limited_network":"regular":0!==n||o?"none":"no_neighbors":"none":0!==a||4!==r||6!==n||o?"none":"no_network":"none"}var pt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case me:switch(t.mode){case"limited_network":return Object(Q.a)({},e,{mode:t.mode,limited:!0,generator:4,net:4,load:4,connections:6});case"regular":return Object(Q.a)({},e,{mode:t.mode,limited:!1,generator:4,net:4,load:4,connections:6});case"no_neighbors":return Object(Q.a)({},e,{mode:t.mode,limited:!1,generator:4,net:4,load:4,connections:0});case"no_network":return Object(Q.a)({},e,{mode:t.mode,limited:!1,generator:4,net:0,load:4,connections:6});default:return Object(Q.a)({},e,{mode:t.mode})}case _e:var a={};switch(t.payload.id){case 3:case 5:case 27:case 29:a=Object(Q.a)({},e,{net:e.net-Math.pow(-1,t.payload.state)});break;case 7:case 11:case 19:case 24:a=Object(Q.a)({},e,{generator:e.generator-Math.pow(-1,t.payload.state)});break;case 9:case 16:case 15:case 160:case 17:case 22:a=Object(Q.a)({},e,{connections:e.connections-Math.pow(-1,t.payload.state)});break;case 12:case 13:case 20:case 25:a=Object(Q.a)({},e,{load:e.load-Math.pow(-1,t.payload.state)})}return Object(Q.a)({},a,{mode:mt(a)});default:return e}},ft=[{generator:{type:3,output:!1,performance:w,active:!1},load:{performance:w,active:!1},net:{active:!1,performance:w},profile:{name:"Alpha",money:w}},{generator:{type:0,output:!1,performance:w,active:!1},load:{performance:w,active:!1},net:{active:!1,performance:w},profile:{name:"Beta",money:w}},{generator:{type:2,output:!1,performance:w,active:!1},load:{performance:w,active:!1},net:{active:!1,performance:w},profile:{name:"Gamma",money:w}},{generator:{type:1,output:!1,performance:w,active:!1},load:{active:!1,performance:w},net:{active:!1,performance:w},profile:{name:"Delta",money:w}}];var bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case me:switch(t.mode){case"no_neighbors":case"regular":var a=Array.from(e);return a.forEach(function(e,t,a){var r=Object.assign({},a[t]);r.generator=Object.assign({},r.generator),r.net=Object.assign({},r.net),r.load=Object.assign({},r.load),r.generator.active=!0,r.net.active=!0,r.load.active=!0,a[t]=r}),a;case"limited_network":var r=Array.from(e);return r.forEach(function(e,t,a){var r=Object.assign({},a[t]);r.generator=Object.assign({},r.generator),r.net=Object.assign({},r.net),r.load=Object.assign({},r.load),r.generator.active=!0,r.net.active=!0,r.load.active=!0,a[t]=r}),r;case"no_network":var n=Array.from(e);return n.forEach(function(e,t,a){var r=Object.assign({},a[t]);r.generator=Object.assign({},r.generator),r.net=Object.assign({},r.net),r.load=Object.assign({},r.load),r.generator.active=!0,r.net.active=!1,r.load.active=!0,a[t]=r}),n;default:throw new Error("Unknown mode")}case _e:switch(t.payload.id){case 7:case 19:case 11:case 24:var o=Array.from(e),c=[7,11,19,24].indexOf(t.payload.id),i=Object.assign({},o[c]);return i.generator=Object.assign({},i.generator),i.generator.active=!i.generator.active,o[c]=i,o;case 12:case 13:case 20:case 25:var l=Array.from(e),s=[12,13,20,25].indexOf(t.payload.id),d=Object.assign({},l[s]);return d.load=Object.assign({},d.load),d.load.active=!d.load.active,l[s]=d,l;case 3:case 5:case 27:case 29:var u=Array.from(e),_=[3,5,27,29].indexOf(t.payload.id),m=Object.assign({},u[_]);return m.net=Object.assign({},m.net),m.net.active=!m.net.active,u[_]=m,u;default:return e}case pe:switch(t.payload.uri){case"cells":var p=Array.from(e),f=p[t.payload.data.id-1];return f.profile.money=t.payload.data.value&&Number(t.payload.data.value).toFixed(1),p[t.payload.data.id-1]=Object(Q.a)({},e[t.payload.data.id-1],f),p;case"arrows":var b=Array.from(e);switch(t.payload.data.id){case 1:case 2:case 3:case 4:var g=b[t.payload.data.id-1];return g.net.performance=t.payload.data.value&&Number(t.payload.data.value).toFixed(3),g.net.active=t.payload.data.status,b[t.payload.data.id-1]=g,b;case 5:case 9:case 7:case 11:var h=[5,9,7,11].indexOf(t.payload.data.id),v=b[h];return v.generator.performance=t.payload.data.value&&Number(t.payload.data.value).toFixed(3),v.generator.active=t.payload.data.status,b[h]=v,b;case 6:case 10:case 8:case 12:var w=[6,10,8,12].indexOf(t.payload.data.id),I=b[w];return I.load.performance=t.payload.data.value&&Number(t.payload.data.value).toFixed(3),I.load.active=t.payload.data.status,b[w]=I,b;default:throw new Error("Undefined id of arrow.")}default:return e}default:return e}},gt=[{active:!1,output:!0,performance:w},{active:!1,output:!0,performance:w},{active:!1,output:!0,performance:w},{active:!1,output:!0,performance:w},{active:!1,output:!0,performance:w},{active:!1,output:!0,performance:w}];var ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case me:switch(t.mode){case"no_neighbors":var a=Array.from(e);return a.forEach(function(e,t,a){a[t]=Object.assign({},e),a[t].active=!1}),a;case"limited_network":case"no_network":case"regular":var r=Array.from(e);return r.forEach(function(e,t,a){a[t]=Object.assign({},e),a[t].active=!0}),r;default:throw new Error("Unknown mode.")}case _e:switch(t.payload.id){case 9:case 15:case 16:case 160:case 17:case 22:var n=Array.from(e),o=Object.assign({},n[[9,15,16,160,17,22].indexOf(t.payload.id)]);return o.active=!o.active,n[[9,15,16,160,17,22].indexOf(t.payload.id)]=o,n;default:return e}case pe:switch(t.payload.uri){case"arrowdirections":var c=[1,4,6,5,2,3].indexOf(t.payload.data.id),i=Array.from(e),l=i[c];return l.performance=t.payload.data.value,l.output=t.payload.data.directionfrom===["enode1","enode2","enode3","enode4"][[1,1,1,2,2,3][c]-1],l.active=t.payload.data.status,i[c]=l,i;default:return e}default:return e}},vt=function(e,t){return Object(Q.a)({},e,t)},wt={money:w,performance:w,sumPerformance:w};var It=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case me:return"limited_network"===t.mode?Object(Q.a)({},e,{performance:e.limitedPerformance}):Object(Q.a)({},e,{performance:e.defaultPerformance});case pe:return"router"===t.payload.uri?vt(e,{sumPerformance:t.payload.data.power&&Number(t.payload.data.power).toFixed(3),money:t.payload.data.balance&&Number(t.payload.data.balance).toFixed(1),performance:t.payload.data.energy&&Number(t.payload.data.energy).toFixed(3)}):e;default:return e}},yt=Object(dt.c)({energyCells:bt,connections:ht,_net:It,hdr:pt}),Et=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||dt.d,Ot=Object(dt.e)(yt,Et(Object(dt.a)(ut.a)));c.a.render(n.a.createElement(ne.a,{store:Ot},n.a.createElement(st,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},4:function(e,t,a){e.exports={PureArrow:"Tumbler_PureArrow__3dj0S",Arrow_g__ru:"Tumbler_Arrow_g__ru__CrLJI",Arrow_g__rd:"Tumbler_Arrow_g__rd__1OpGi",Arrow_g__lu:"Tumbler_Arrow_g__lu__3_h4X",Arrow_g__ld:"Tumbler_Arrow_g__ld__2MwNb",Arrow_g__r:"Tumbler_Arrow_g__r__UaZ3H",Arrow_g__l:"Tumbler_Arrow_g__l__2j23a",Arrow_g__u:"Tumbler_Arrow_g__u__3p5qa",Arrow_g__d:"Tumbler_Arrow_g__d__1jIpC",Arrow__ru:"Tumbler_Arrow__ru__3x5YT",Arrow__rd:"Tumbler_Arrow__rd__3PvxX",Arrow__lu:"Tumbler_Arrow__lu__1uUpm",Arrow__ld:"Tumbler_Arrow__ld__3Ztc5",Arrow__r:"Tumbler_Arrow__r__2vrQX",Arrow__l:"Tumbler_Arrow__l__3RRZ8",Arrow__u:"Tumbler_Arrow__u__14kLA",Arrow__d:"Tumbler_Arrow__d__2tK16",PowerIcon__Right:"Tumbler_PowerIcon__Right__1G7yA",PowerIcon__Left:"Tumbler_PowerIcon__Left__1d48O",PowerIcon__Up:"Tumbler_PowerIcon__Up__1X9ip",PowerIcon__Down:"Tumbler_PowerIcon__Down__14l-d",PowerIcon__RightUp:"Tumbler_PowerIcon__RightUp__l4kIg",PowerIcon__RightDown:"Tumbler_PowerIcon__RightDown__37Zlw",PowerIcon__LeftUp:"Tumbler_PowerIcon__LeftUp__3O1-7",PowerIcon__LeftDown:"Tumbler_PowerIcon__LeftDown__39vJp"}},49:function(e,t,a){e.exports={"buttons-group__container":"ButtonsGroup_buttons-group__container__1shol","buttons-group__button":"ButtonsGroup_buttons-group__button__1xqXG","buttons-group__button--active":"ButtonsGroup_buttons-group__button--active__2_NEU"}},5:function(e,t,a){e.exports={InnerPart:"InnerPart_InnerPart__3TkdZ",Item8:"InnerPart_Item8__2Ur0y",Item10:"InnerPart_Item10__31SEn",Item21:"InnerPart_Item21__3RPWU",Item23:"InnerPart_Item23__UNDkm",Item3:"InnerPart_Item3__3_klp",Item5:"InnerPart_Item5__1uPd7",Item27:"InnerPart_Item27__2zzSh",Item29:"InnerPart_Item29__EJj9G",Item16:"InnerPart_Item16__Fpn7N",Item160:"InnerPart_Item160__2wDIJ",Item9:"InnerPart_Item9__21oD1",Item15:"InnerPart_Item15__32vSe",Item17:"InnerPart_Item17__1jtsq",Item22:"InnerPart_Item22__2tGff",Item7:"InnerPart_Item7__1WgTn",Item12:"InnerPart_Item12__2GAbQ",Item11:"InnerPart_Item11__2lfv4",Item13:"InnerPart_Item13__2CYd8",Item19:"InnerPart_Item19__Bq8cU",Item20:"InnerPart_Item20__1KW9R",Item24:"InnerPart_Item24__1qfw2",Item25:"InnerPart_Item25__3OOxU",Item1:"InnerPart_Item1__336sN"}}},[[167,1,2]]]);
//# sourceMappingURL=main.030d34b8.chunk.js.map