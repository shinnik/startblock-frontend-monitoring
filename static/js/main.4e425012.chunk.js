(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,a,t){e.exports={PureArrow:"Tumbler_PureArrow__3dj0S",Arrow_g__ru:"Tumbler_Arrow_g__ru__CrLJI",Arrow_g__rd:"Tumbler_Arrow_g__rd__1OpGi",Arrow_g__lu:"Tumbler_Arrow_g__lu__3_h4X",Arrow_g__ld:"Tumbler_Arrow_g__ld__2MwNb",Arrow_g__r:"Tumbler_Arrow_g__r__UaZ3H",Arrow_g__l:"Tumbler_Arrow_g__l__2j23a",Arrow_g__u:"Tumbler_Arrow_g__u__3p5qa",Arrow_g__d:"Tumbler_Arrow_g__d__1jIpC",Arrow__ru:"Tumbler_Arrow__ru__3x5YT",Arrow__rd:"Tumbler_Arrow__rd__3PvxX",Arrow__lu:"Tumbler_Arrow__lu__1uUpm",Arrow__ld:"Tumbler_Arrow__ld__3Ztc5",Arrow__r:"Tumbler_Arrow__r__2vrQX",Arrow__l:"Tumbler_Arrow__l__3RRZ8",Arrow__u:"Tumbler_Arrow__u__14kLA",Arrow__d:"Tumbler_Arrow__d__2tK16",PowerIcon__Right:"Tumbler_PowerIcon__Right__1G7yA",PowerIcon__Left:"Tumbler_PowerIcon__Left__1d48O",PowerIcon__Up:"Tumbler_PowerIcon__Up__1X9ip",PowerIcon__Down:"Tumbler_PowerIcon__Down__14l-d",PowerIcon__RightUp:"Tumbler_PowerIcon__RightUp__l4kIg",PowerIcon__RightDown:"Tumbler_PowerIcon__RightDown__37Zlw",PowerIcon__LeftUp:"Tumbler_PowerIcon__LeftUp__3O1-7",PowerIcon__LeftDown:"Tumbler_PowerIcon__LeftDown__39vJp"}},107:function(e,a,t){e.exports={"login-page__login":"LoginPage_login-page__login__1SwwS","login-page__password":"LoginPage_login-page__password__3ke4W","login-page__page":"LoginPage_login-page__page__2N2Sx","login-page__container":"LoginPage_login-page__container__3nIHo","login-page__header":"LoginPage_login-page__header__2zTW-"}},12:function(e,a,t){e.exports={InnerPart:"InnerPart_InnerPart__3TkdZ",Cell8:"InnerPart_Cell8__3LJNj",Cell10:"InnerPart_Cell10__3HruT",Cell21:"InnerPart_Cell21__28Uia",Cell23:"InnerPart_Cell23__2nePH",Cell3:"InnerPart_Cell3__3CL3c",Cell5:"InnerPart_Cell5__2112N",Cell27:"InnerPart_Cell27__2qkP6",Cell29:"InnerPart_Cell29__3IySK",Cell16:"InnerPart_Cell16__OAupL",Cell160:"InnerPart_Cell160__vQ3ST",Cell9:"InnerPart_Cell9__nuVyP",Cell15:"InnerPart_Cell15__1WC4P",Cell17:"InnerPart_Cell17__2csQm",Cell22:"InnerPart_Cell22__3umse",Cell7:"InnerPart_Cell7__3b49X",Cell12:"InnerPart_Cell12__vD3Tq",Cell11:"InnerPart_Cell11__1jzyI",Cell13:"InnerPart_Cell13__1bPex",Cell19:"InnerPart_Cell19___Zs2E",Cell20:"InnerPart_Cell20__EJJar",Cell24:"InnerPart_Cell24__2N_3Y",Cell25:"InnerPart_Cell25__395Me",Cell1:"InnerPart_Cell1__2Gsdc"}},143:function(e,a,t){e.exports={section:"Plot_section__Av2nA",plot:"Plot_plot__2ik0g"}},144:function(e,a,t){e.exports=t.p+"static/media/I.c1bce14e.svg"},145:function(e,a,t){e.exports=t.p+"static/media/Triangle.98540fe6.svg"},146:function(e,a,t){e.exports=t.p+"static/media/E.3ee2f07b.svg"},147:function(e,a,t){e.exports=t.p+"static/media/A.df8e9f1e.svg"},148:function(e,a,t){e.exports={LogoContainer:"Icon_LogoContainer__3UWk6",I:"Icon_I__33V3I",D:"Icon_D__1yiT3",E:"Icon_E__22eDn",A:"Icon_A__1qMKE"}},149:function(e,a,t){e.exports={header__container:"Header_header__container__1LmAh",header__label:"Header_header__label__3ZQXT"}},197:function(e,a,t){e.exports={Main:"Main_Main__32U6n"}},198:function(e,a,t){e.exports={Name:"EnergyCell_Name__1-Xp0",Box:"EnergyCell_Box__uNUY6",Addition:"EnergyCell_Addition__3NSiQ"}},201:function(e,a,t){e.exports=t.p+"static/media/group.0077df93.svg"},202:function(e,a,t){e.exports={EnergyRouterIconContainer:"EnergyRouterIcon_EnergyRouterIconContainer__2NjwJ"}},204:function(e,a,t){e.exports=t.p+"static/media/logo-color.247375c7.svg"},212:function(e,a,t){e.exports={App:"App_App__15LM-"}},218:function(e,a,t){e.exports=t(399)},223:function(e,a,t){},224:function(e,a,t){},225:function(e,a,t){},27:function(e,a,t){e.exports={"plot-header__container":"PlotHeader_plot-header__container__yFegi","plot-header__header-container":"PlotHeader_plot-header__header-container__2fFgE","plot-header__header":"PlotHeader_plot-header__header__2sj_E","plot-header__legend-container":"PlotHeader_plot-header__legend-container__XJg6b","plot-header__legend":"PlotHeader_plot-header__legend__zrPvO","plot-header__legend--traditional":"PlotHeader_plot-header__legend--traditional__18vxg","plot-header__legend--distributed":"PlotHeader_plot-header__legend--distributed__2FGa-","plot-header__legend--internet":"PlotHeader_plot-header__legend--internet__3pbwF"}},285:function(e,a,t){},35:function(e,a,t){e.exports={Branch:"Branch_Branch__1MzFw",BranchReversed:"Branch_BranchReversed__3w36x",Cell1:"Branch_Cell1__1AHbs",Cell2:"Branch_Cell2__L5LtK",Cell3:"Branch_Cell3__3MByl",Cell1_r:"Branch_Cell1_r__1u-a7",Cell2_r:"Branch_Cell2_r__1gx1o",Cell3_r:"Branch_Cell3_r__GEPCL"}},36:function(e,a,t){e.exports={Net:"Net_Net__12RSl",Cell1:"Net_Cell1__3rPlU",Cell2:"Net_Cell2__2EXg7",Cell3:"Net_Cell3__3yUrr",Cell4:"Net_Cell4__3RaTd",Cell5:"Net_Cell5__5fLBa",Cell7:"Net_Cell7__15Au6",Cell8:"Net_Cell8__1dlT4"}},399:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(11),l=t.n(o),c=(t(223),t(33)),i=t(138),s=t(44),d=t(176),u=t(214),_=(t(224),t(225),Object(u.a)({typography:{fontFamily:["Manrope","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),body1:{fontSize:"26px"},body2:{fontSize:"28px",letterSpacing:"0.44px",lineHeight:"120%"},h5:{fontSize:"28px",lineHeight:"120%"},h4:{fontSize:"44px"},caption:{fontSize:"26px",lineHeight:"100%"}},palette:{primary:{main:"#0099DC"},secondary:{main:"#FF8282"}},overrides:{MuiPaper:{elevation1:{backgroundColor:"#0099DC",color:"white",boxShadow:"0px 5.58107px 22.3243px rgba(0, 0, 0, 0.3)",borderRadius:"11.1621px"},elevation2:{backgroundColor:"#F0F0F0",color:"#000000",boxShadow:"0px 5.58107px 22.3243px rgba(0, 0, 0, 0.3)",borderRadius:"11.1621px"}},MuiTableCell:{head:{color:"black"}},MuiTableRow:{root:{height:"60px"}},MuiInputLabel:{root:{fontSize:"18px"}}}})),p=t(197),m=t.n(p),g=t(12),f=t.n(g),b=t(215),h=t(424),v=t(425),w=t(427),y="MIPTik",C="\u043a\u0412\u0442",E="...",O=t(198),A=t.n(O);var j=function(e){var a=e.name,t=e.money,n=e.active,o=Object(b.a)(e,["name","money","active"]);return r.a.createElement(h.a,Object.assign({elevation:n?1:2},o),r.a.createElement(v.a,{style:{display:n?"inline":"none",fontSize:"32px",paddingTop:"8px",paddingLeft:"10px"}},r.a.createElement("b",null,a)),r.a.createElement(w.a,{style:{display:n?"inline":"none"},className:A.a.Box},r.a.createElement(w.a,{style:{paddingBottom:"8px"}},r.a.createElement(v.a,{style:{fontFamily:"Roboto Mono"},variant:"body2"},"".concat(t)),r.a.createElement(v.a,{variant:"body2"},"".concat(y)))))},k=t(10),x=t.n(k),P={tumblerWidth:200,tumblerThickness:5,triangleSize:25,blueCardWidth:"122px",blueCardHeight:"106px"},N=t(199),I=t.n(N),S=t(428);function T(e,a){if(a)switch(e){case"ru":return x.a.Arrow__ru;case"rd":return x.a.Arrow__rd;case"lu":return x.a.Arrow__lu;case"ld":return x.a.Arrow__ld;case"r":return x.a.Arrow__r;case"l":return x.a.Arrow__l;case"u":return x.a.Arrow__u;case"d":return x.a.Arrow__d;default:throw new Error("Unknown direction")}else switch(e){case"ru":return x.a.Arrow_g__ru;case"rd":return x.a.Arrow_g__rd;case"lu":return x.a.Arrow_g__lu;case"ld":return x.a.Arrow_g__ld;case"r":return x.a.Arrow_g__r;case"l":return x.a.Arrow_g__l;case"u":return x.a.Arrow_g__u;case"d":return x.a.Arrow_g__d;default:throw new Error("Unknown direction")}}function L(e){switch(e){case"l":return"left";case"u":return"up";case"d":return"down";default:return"right"}}function R(e){switch(e){case"ru":return x.a.PowerIcon__RightUp;case"rd":return x.a.PowerIcon__RightDown;case"lu":return x.a.PowerIcon__LeftUp;case"ld":return x.a.PowerIcon__LeftDown;case"l":return x.a.PowerIcon__Left;case"u":return x.a.PowerIcon__Up;case"d":return x.a.PowerIcon__Down;case"r":return x.a.PowerIcon__Right;default:throw new Error("Invalid direction")}}var M=function(e){var a=e.direction,t=e.power,n=e.id,o=e.dispatch,l=e.koeff,c=e.hovered,i=e.noHover,s=function(){o({id:n,state:!t})};return r.a.createElement(w.a,{style:{pointerEvents:i?"none":"auto"},className:T(a,t)},r.a.createElement(I.a,Object.assign({stroke:"true",unclosed:!0,className:x.a.PureArrow,direction:L(a)},function(e,a,t){switch(e){case"r":case"l":case"d":case"u":case"ru":case"rd":case"lu":case"ld":return{shaftWidth:P.tumblerThickness,shaftLength:P.tumblerWidth*(t||1)-P.triangleSize*a+P.triangleSize*(t||1)-1.5*P.tumblerThickness,headWidth:P.triangleSize,headLength:P.triangleSize*a};default:throw new Error("Unknown direction.")}}(a,t,l),{fill:t?"#EB5757":"#D0D0D0",onClick:s})),c&&r.a.createElement(w.a,{style:{display:"flex"},onClick:s},r.a.createElement(S.a,{style:{backgroundColor:t?"#EB5757":"#878787",width:P.triangleSize,height:P.triangleSize},className:R(a)})," "))};t(285);var D,B=function(e){var a=e.direction,t=e.power,o=e.label,l=e.type,i=e.align,s=e.cell_id,d=e.dispatch,u=e.koeff,_=e.noHover,p=Object(n.useState)(0),m=Object(c.a)(p,2),g=m[0],f=m[1],b=Object(n.useState)(!1),h=Object(c.a)(b,2),y=h[0],E=h[1];return r.a.createElement("div",{className:"LabeledTumbler LabeledTumbler__".concat(a)},r.a.createElement(w.a,{onMouseLeave:function(){!_&&f(0),!_&&E(!1)},onMouseEnter:function(){!_&&f(1),!_&&E(!0)},className:"Arrow__".concat(l)},r.a.createElement(M,{noHover:_,direction:a,power:t,id:s,dispatch:d,koeff:u,hovered:y})),r.a.createElement(w.a,{hidden:!t,className:15===s?"Label__special Label__".concat(l," Align_").concat(i):"Label__".concat(l," Align_").concat(i)},r.a.createElement(v.a,{style:{fontFamily:"Roboto Mono"},display:"inline",variant:"caption",color:"secondary"},"".concat(o)),r.a.createElement(v.a,{style:{opacity:g},display:"inline",variant:"caption",color:"secondary"}," ".concat(C))))},U=t(45),F=t(35),H=t.n(F),z="LOAD",W=(D={},Object(U.a)(D,"ACCUMULATOR",{name:"\u0410\u043a\u043a\u0443\u043c\u0443\u043b\u044f-\u0442\u043e\u0440",src:"images/acc.png"}),Object(U.a)(D,"BENZOGENERATOR",{name:"\u0411\u0435\u043d\u0437\u043e-\u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440",src:"images/benz.png"}),Object(U.a)(D,z,{name:"\u041d\u0430\u0433\u0440\u0443\u0437\u043a\u0430",src:"images/gulp.png"}),Object(U.a)(D,"SOLAR_PANEL",{name:"\u0421\u043e\u043b\u043d\u0435\u0447\u043d\u0430\u044f \u043f\u0430\u043d\u0435\u043b\u044c",src:"images/solar_mini.png"}),Object(U.a)(D,"SOLAR_PANEL_DOUBLE",{name:"\u0421\u043e\u043b\u043d\u0435\u0447\u043d\u0430\u044f \u043f\u0430\u043d\u0435\u043b\u044c",src:"images/solar.png"}),D);var G=function(e){var a=e.type,t=e.dispatch,n=e.power,o=e.label,l=e.cell_id,c=e.direction,i=e.reversed;return r.a.createElement("div",{className:i?H.a.BranchReversed:H.a.Branch},r.a.createElement(w.a,{className:i?H.a.Cell1_r:H.a.Cell1},r.a.createElement(v.a,{variant:"h5"},W[a].name)),r.a.createElement(w.a,{className:i?H.a.Cell2_r:H.a.Cell2},r.a.createElement("img",{style:{maxWidth:"100%",maxHeight:"100%"},src:W[a].src,alt:W[a].name})),r.a.createElement(w.a,{className:i?H.a.Cell3_r:H.a.Cell3},r.a.createElement(B,{noHover:a===z,type:"hu",dispatch:t,power:n,align:"c",label:o,direction:c,cell_id:l,koeff:.82})))},J=[f.a.Cell8,f.a.Cell10,f.a.Cell21,f.a.Cell23],X=[f.a.Cell3,f.a.Cell5,f.a.Cell27,f.a.Cell29],Z=[f.a.Cell9,f.a.Cell15,f.a.Cell16,f.a.Cell160,f.a.Cell17,f.a.Cell22],q=[f.a.Cell7,f.a.Cell11,f.a.Cell19,f.a.Cell24],K=[f.a.Cell12,f.a.Cell13,f.a.Cell20,f.a.Cell25],Q=[function(){return"hu"},function(){return"vl"},function(e){return e},function(e){return e},function(){return"vr"},function(){return"hd"}],V=[function(){return"c"},function(e){return e?"up":"down"},function(){},function(){},function(e){return e?"up":"down"},function(){return"c"}],Y=[function(e){return e?"r":"l"},function(e){return e?"d":"u"},function(e){return e?"rd":"lu"},function(e){return e?"ld":"ru"},function(e){return e?"d":"u"},function(e){return e?"r":"l"}];function $(e){switch(e){case 9:case 22:return 1.12;case 16:case 160:return 1.55;case 15:case 17:return.97;default:return 1}}var ee=function(e){var a=e.onToggle,t=e.connections,n=e.energyCells;return r.a.createElement("div",{className:f.a.InnerPart},n.map(function(e,a){return r.a.createElement(j,Object.assign({key:a},e.profile,{className:J[a],active:e.active}))}),t.map(function(e,t){return r.a.createElement(w.a,{key:t,className:Z[t]},r.a.createElement(B,{power:e.active,type:Q[t](Y[t](e.output)),align:V[t](Y[t](e.output)),label:"".concat(e.performance),direction:Y[t](e.output),cell_id:[9,15,16,160,17,22][t],dispatch:a,koeff:$([9,15,16,160,17,22][t])}))}),n.map(function(e,t){return r.a.createElement(w.a,{key:t,className:X[t]},r.a.createElement(B,{direction:t<=1?"d":"u",label:e.net.performance,align:t<=1?"down":"up",type:"vr",power:e.net.active,cell_id:[3,5,27,29][t],dispatch:a,koeff:.67}))}),n.map(function(e,t){return r.a.createElement(w.a,{key:t,className:q[t]},r.a.createElement(G,{type:e.generator.type,cell_id:[7,11,19,24][t],label:e.generator.performance,dispatch:a,power:e.generator.active,direction:t%2===0?e.generator.output?"l":"r":e.generator.output?"r":"l",reversed:t%2!==0}))}),n.map(function(e,t){return r.a.createElement(w.a,{key:t,className:K[t]},r.a.createElement(G,{type:z,cell_id:[12,13,20,25][t],label:e.load.performance,dispatch:a,power:e.load.active,direction:t%2===0?"l":"r",reversed:t%2!==0}))}),r.a.createElement("div",{className:f.a.Cell1},r.a.createElement(v.a,{variant:"body2",color:"secondary"},"\u0412\u0441\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0432 ",C)))},ae=t(14),te=t(40),ne=t(65),re=t(104),oe=t(99),le=t(105),ce=t(36),ie=t.n(ce),se=t(41),de=t(201),ue=t.n(de),_e=t(202),pe=t.n(_e);var me=function(){return r.a.createElement("div",{className:pe.a.EnergyRouterIconContainer},r.a.createElement("img",{alt:"\u042d\u043d\u0435\u0440\u0433\u043e\u0440\u043e\u0443\u0442\u0435\u0440",src:ue.a,style:{zoom:1.3}}))},ge=function(e){function a(){return Object(te.a)(this,a),Object(re.a)(this,Object(oe.a)(a).apply(this,arguments))}return Object(le.a)(a,e),Object(ne.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:ie.a.Net},r.a.createElement(v.a,{variant:"h4",className:ie.a.Cell1},r.a.createElement("b",null,"\u0421\u0435\u0442\u044c")),r.a.createElement("div",{className:ie.a.Cell2}),r.a.createElement("div",{className:ie.a.Cell3},r.a.createElement(me,null)),r.a.createElement("div",{className:ie.a.Cell4}),r.a.createElement(v.a,{style:{fontFamily:"Roboto Mono"},variant:"body2",color:"secondary",className:ie.a.Cell8},this.props.sumPerformance),r.a.createElement(w.a,{className:ie.a.Cell7},r.a.createElement(v.a,null,"\u042d\u043d\u0435\u0440\u0433\u043e\u0440\u043e\u0443\u0442\u0435\u0440"),r.a.createElement(v.a,{display:"inline",style:{fontFamily:"Roboto Mono"},variant:"body2",color:"secondary"},"".concat(this.props.performance)),r.a.createElement(v.a,{display:"inline",variant:"body2",color:"secondary"}," ".concat(C))),r.a.createElement(w.a,{className:ie.a.Cell5},r.a.createElement(v.a,{style:{fontFamily:"Roboto Mono"}},"".concat(this.props.money)),r.a.createElement(v.a,null,"".concat(y))))}}]),a}(r.a.Component),fe=Object(se.b)(function(e){return Object(ae.a)({},e._net,{energyCells:e.energyCells})})(ge),be="TUMBLER_TOGGLE",he="SET_MODE",ve="NEW_WEBSOCKET_MESSAGE",we=t(203),ye=t.n(we),Ce=t(66),Ee=!0,Oe=new(function(){function e(a){Object(te.a)(this,e),Ee&&console.log("Creating websocket clients..."),this.sockets=[],this.handler=function(){},this.endpoints=a}return Object(ne.a)(e,[{key:"init",value:function(){var e=this;this.endpoints.forEach(function(a){var t=new Ce.w3cwebsocket("".concat("wss://onder2.herokuapp.com","/").concat(a));t.onopen=function(){Ee&&console.log("Websocket connection to ".concat("wss://onder2.herokuapp.com","/").concat(a," has been established."))},t.onmessage=function(t){Ee&&console.log("Got message: ".concat(t.data," from ").concat("wss://onder2.herokuapp.com","/").concat(a));try{var n=JSON.parse(t.data);e.handler({payload:{uri:a,data:n}})}catch(r){Ee&&console.log(r)}},e.sockets.push(t)})}},{key:"setHandler",value:function(e){this.handler=e}},{key:"send",value:function(e,a){var t=JSON.stringify(Object.assign(e,{time:new Date}));Ee&&console.log("Sending ".concat(t," to topic ").concat(a)),this.sockets[this.endpoints.indexOf(a)].send(t)}},{key:"sendSpecific",value:function(e){switch(e.id){case 3:case 5:case 27:case 29:case 7:case 19:case 11:case 24:this.send({id:[3,5,27,29,7,12,19,20,11,13,24,25].indexOf(e.id)+1,status:e.state},"arrows");break;case 9:case 17:case 22:case 15:case 160:case 16:this.send({id:[9,17,22,15,160,16].indexOf(e.id)+1,status:e.state},"arrowdirections")}}},{key:"close",value:function(){console.log("Closing websocket clients..."),this.sockets.forEach(function(e){e.close()}),console.log("Websocket clients have been closed.")}}]),e}())(["cells","arrows","arrowdirections","router","agents"]);var Ae=Object(se.b)(function(e){return{energyCells:e.energyCells,connections:e.connections}},function(e){return{onMessage:function(a){return e(function(e){return Object(ae.a)({type:ve},e)}(a))}}})(function(e){var a=e.energyCells,t=e.connections,o=e.onMessage,l=ye()();return Object(n.useEffect)(function(){return Oe.init(),Oe.setHandler(o),function(){return Oe.close()}},[]),r.a.createElement(w.a,{style:{zoom:Math.min(l.innerWidth/2800,1)},className:m.a.Main},r.a.createElement(fe,null),r.a.createElement(ee,{onToggle:function(e){return Oe.sendSpecific(e)},energyCells:a,connections:t}))}),je=t(100),ke=t.n(je),xe=t(135),Pe=t(209),Ne=t.n(Pe),Ie=t(205),Se=t.n(Ie),Te=t(107),Le=t.n(Te),Re=t(204),Me=t.n(Re),De=Object(xe.a)(function(){return{root:{height:"56px",boxShadow:"0px 4px 8px rgba(48, 79, 254, 0.24)",borderRadius:"3px"},label:{letterSpacing:"0.75px",lineHeight:"19px"}}})(Se.a),Be=function(e){var a=e.loggedIn,t=e.setLogged,o=Object(n.useState)(""),l=Object(c.a)(o,2),i=l[0],d=l[1];return r.a.createElement("div",{className:Le.a["login-page__page"]},r.a.createElement("img",{src:Me.a}),r.a.createElement("div",{className:Le.a["login-page__container"]},r.a.createElement("div",{className:Le.a["login-page__password"]},r.a.createElement(Ne.a,{value:i,type:"password",margin:"normal",variant:"outlined",label:"\u041f\u0430\u0440\u043e\u043b\u044c",onInput:function(e){d(e.target.value)}})),r.a.createElement(De,{color:"primary",variant:"contained",onClick:function(){ke.a.get("https://onder2.herokuapp.com/login?password=".concat(i)).then(function(e){var a=e.data;t(a)})}},"\u0412\u043e\u0439\u0442\u0438")),a&&r.a.createElement(s.a,{to:"/"}))},Ue=t(47),Fe=t(108),He=t.n(Fe),ze=(t(344),t(211)),We=t.n(ze),Ge=t(69),Je=t.n(Ge),Xe=t(27),Ze=t.n(Xe),qe=function(){var e=Je()(Ze.a["plot-header__legend"],Ze.a["plot-header__legend--traditional"]),a=Je()(Ze.a["plot-header__legend"],Ze.a["plot-header__legend--distributed"]),t=Je()(Ze.a["plot-header__legend"],Ze.a["plot-header__legend--internet"]);return r.a.createElement("div",{className:Ze.a["plot-header__container"]},r.a.createElement("div",{className:Ze.a["plot-header__header-container"]},r.a.createElement("h2",{className:Ze.a["plot-header__header"]},"\u0421\u043e\u0432\u043e\u043a\u0443\u043f\u043d\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u044d\u043d\u0435\u0440\u0433\u0438\u0438")),r.a.createElement("div",{className:Ze.a["plot-header__legend-container"]},r.a.createElement("p",{className:e},"\u0422\u0440\u0430\u0434\u0438\u0446\u0438\u043e\u043d\u043d\u0430\u044f \u044d\u043d\u0435\u0440\u0433\u043e\u0441\u0438\u0441\u0442\u0435\u043c\u0430"),r.a.createElement("p",{className:a},"\u0420\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u0430\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f"),r.a.createElement("p",{className:t},"\u0418\u043d\u0442\u0435\u0440\u043d\u0435\u0442 \u044d\u043d\u0435\u0440\u0433\u0438\u0438")))},Ke=t(143),Qe=t.n(Ke),Ve=function(e){var a=e.internetData,t=e.distributionData,o=e.traditionalData,l=e.traditionalDataCurrent,i=e.distributionDataCurrent,s=e.internetDataCurrent,d=e.labels,u=Object(n.useRef)(null),_=Object(n.useRef)(null),p=Object(n.useState)(!1),m=Object(c.a)(p,2),g=m[0],f=m[1],b=function(){_.current&&_.current.destroy();var e=new We.a(u.current,{type:"line",data:{labels:d,datasets:[{label:"\u0422\u0440\u0430\u0434\u0438\u0446\u0438\u043e\u043d\u043d\u0430\u044f \u044d\u043d\u0435\u0440\u0433\u043e\u0441\u0438\u0441\u0442\u0435\u043c\u0430",data:o,borderColor:"rgb(235, 87, 87)",borderWidth:3,lineTension:0,fill:!1,backgroundColor:"rgb(235, 87, 87)",radius:0},{label:"\u0422\u0435\u043a\u0443\u0449\u0435\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435",data:l,borderColor:"rgb(235, 87, 87)",borderWidth:3,lineTension:0,fill:!1,backgroundColor:"rgb(235, 87, 87)",radius:3},{label:"\u0420\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u0430\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f",data:t,borderColor:"goldenrod",borderWidth:3,lineTension:0,fill:!1,backgroundColor:"goldenrod",radius:0},{data:i,label:"\u0422\u0435\u043a\u0443\u0449\u0435\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435",borderColor:"goldenrod",borderWidth:3,lineTension:0,fill:!1,backgroundColor:"goldenrod",radius:3},{label:"\u0418\u043d\u0442\u0435\u0440\u043d\u0435\u0442 \u044d\u043d\u0435\u0440\u0433\u0438\u0438",data:a,borderColor:"rgb(50,205,50)",borderWidth:3,lineTension:0,fill:!1,backgroundColor:"rgb(50,205,50)",radius:0},{data:s,label:"\u0422\u0435\u043a\u0443\u0449\u0435\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435",borderColor:"rgb(50,205,50)",borderWidth:3,lineTension:0,fill:!1,backgroundColor:"rgb(50,205,50)",radius:3}]},options:{responsive:!0,maintainAspectRatio:!1,animation:!1,legend:{display:!1},tooltips:{filter:function(e){return 0===e.datasetIndex||2===e.datasetIndex||4===e.datasetIndex}},layout:{padding:{top:55,bottom:0,right:45,left:65}},scales:{xAxes:[{gridLines:{color:"rgb(0, 0, 0, 0)",zeroLineColor:"#343434"},ticks:{autoSkip:!0,minTicksLimit:7,maxTicksLimit:8,maxRotation:0,minRotation:0,fontColor:"#343434",fontFamily:"'Manrope', sans-serif",fontSize:12}}],yAxes:[{position:"right",scaleLabel:{display:!0,labelString:"MIPTik/\u043a\u0412\u0442\u22c5\u0447",fontFamily:"'Manrope', sans-serif",fontColor:"#343434",fontSize:12},gridLines:{color:"rgb(0, 0, 0, 0)",zeroLineColor:"#343434"},ticks:{min:0,beginAtZero:!0,padding:15,fontFamily:"'Manrope', sans-serif",fontColor:"#343434",fontSize:12}}]}}});_.current=e};return Object(n.useEffect)(function(){return window.onresize=function(){b(),f(!g)}},[g]),Object(n.useEffect)(function(){return b()}),r.a.createElement("section",{className:Qe.a.section},r.a.createElement(qe,null),r.a.createElement("canvas",{className:Qe.a.plot,ref:u}))},Ye=function e(){Object(te.a)(this,e)};Ye.getInitialPoints=function(){return ke.a.get("https://Onder2.herokuapp.com/data").then(function(e){return e.data})};var $e=new Ce.w3cwebsocket("wss://Onder2.herokuapp.com/plot"),ea=function(e){function a(){var e,t;Object(te.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(re.a)(this,(e=Object(oe.a)(a)).call.apply(e,[this].concat(r)))).state={traditional:[],traditionalCurrent:[],distributed:[],distributedCurrent:[],internet:[],internetCurrent:[],labels:[]},t.separateData=function(e){if(e){var a=Object.values(e),t=a.map(function(e){return e.value}),n=a.map(function(e){return e.time}),r=t.map(function(e,a){return a!==t.length-1?null:e});return{values:t,labels:n,last:r}}},t.handleResponse=function(e){var a={values:[],last:[],labels:[]},n=t.separateData(e.traditional||a),r=t.separateData(e.distributed||a),o=t.separateData(e.internet||a);t.setState({labels:o.labels}),t.setState({traditional:n.values}),t.setState({distributed:r.values}),t.setState({internet:o.values}),t.setState({traditionalCurrent:n.last}),t.setState({distributedCurrent:r.last}),t.setState({internetCurrent:o.last})},t.splicePlot=function(e){var a=t.state,n=a.internet,r=a.internetCurrent,o=a.traditional,l=a.traditionalCurrent,c=a.distributed,i=a.distributedCurrent,s=a.labels;if("internet"!==e.id||He()(n))if("distributed"!==e.id||He()(c)){if("traditional"===e.id&&!He()(o)){var d=Object(Ue.a)(o),u=Object(Ue.a)(l);u.pop(),u.push(e.value),d.shift(),d.push(e.value),t.setState({traditional:d}),t.setState({traditionalCurrent:u})}}else{var _=Object(Ue.a)(c),p=Object(Ue.a)(i);p.pop(),p.push(e.value),_.shift(),_.push(e.value),t.setState({distributed:_}),t.setState({distributedCurrent:p})}else{var m=Object(Ue.a)(n),g=Object(Ue.a)(r);g.pop(),g.push(e.value),m.shift(),m.push(e.value),t.setState({internet:m}),t.setState({internetCurrent:g})}var f=Object(Ue.a)(s);f.shift(),f.push(e.time),t.setState({labels:f})},t}return Object(le.a)(a,e),Object(ne.a)(a,[{key:"componentDidMount",value:function(){var e=this;$e.onopen=function(){console.log("WebSocket Client Connected")},Ye.getInitialPoints().then(function(a){return e.handleResponse(a)}).then(function(){return $e.onmessage=function(a){var t=a.data,n=JSON.parse(t);e.splicePlot(n)}})}},{key:"render",value:function(){var e=this.state,a=e.internet,t=e.internetCurrent,n=e.traditional,o=e.traditionalCurrent,l=e.distributed,c=e.distributedCurrent,i=e.labels;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ve,{traditionalData:n,traditionalDataCurrent:o,distributionData:l,distributionDataCurrent:c,internetData:a,internetDataCurrent:t,labels:i}))}}]),a}(n.Component),aa=t(212),ta=t.n(aa),na=t(144),ra=t.n(na),oa=t(145),la=t.n(oa),ca=t(146),ia=t.n(ca),sa=t(147),da=t.n(sa),ua=t(148),_a=t.n(ua),pa=function(){var e=[ra.a,la.a,ia.a,da.a];return r.a.createElement("div",{className:_a.a.LogoContainer},e.map(function(e,a){return r.a.createElement("img",{alt:["I","D","E","A"][a],key:a,className:_a.a[(t={I:ra.a,D:la.a,E:ia.a,A:da.a},Object.keys(t))[a]],src:e});var t}))},ma=[{id:"regular",label:"\u0428\u0422\u0410\u0422\u041d\u042b\u0419 \u0420\u0415\u0416\u0418\u041c"},{id:"limited_network",label:"\u0421 \u041e\u0413\u0420\u0410\u041d\u0418\u0427\u0415\u041d\u0418\u0415\u041c \u0421\u0415\u0422\u0418"},{id:"no_network",label:"\u0411\u0415\u0417 \u0421\u0415\u0422\u0418"},{id:"no_neighbors",label:"\u0411\u0415\u0417 \u0421\u041e\u0421\u0415\u0414\u0415\u0419"}],ga=t(74),fa=t.n(ga),ba={regular:1,limited_network:2,no_network:3,no_neighbors:4},ha=new Ce.w3cwebsocket("wss://onder2.herokuapp.com/preset"),va=function(e){var a=e.setMode,t=e.mode;Object(n.useEffect)(function(){ha.onopen=function(){console.log("WebSocket Client Connected")}},[]);var o=Je()(fa.a["buttons-group__button"],fa.a["buttons-group__button--active"]),l=function(e){ha.send(JSON.stringify({time:Date.now(),value:ba[e.target.id]})),a(e.target.id)};return r.a.createElement("div",{className:fa.a["buttons-group__container"]},ma.map(function(e){return r.a.createElement("button",{key:e.id,id:e.id,className:e.id===t?o:fa.a["buttons-group__button"],onClick:l},e.label)}))},wa=t(149),ya=t.n(wa),Ca=function(e){var a=e.setMode,t=e.mode;return r.a.createElement("div",{className:ya.a.header__container},r.a.createElement(pa,null),r.a.createElement("h1",{className:ya.a.header__label},"\u041c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433"),r.a.createElement(va,{setMode:a,mode:t}))},Ea=function(e){return{type:he,mode:e}},Oa=Object(se.b)(function(e){return{mode:e.hdr.mode}},function(e){return{setMode:function(a){return e(Ea(a))}}})(function(e){var a=e.mode,t=e.setMode;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ca,{mode:a,setMode:t}))});var Aa=function(){var e=Object(n.useState)(!1),a=Object(c.a)(e,2),t=a[0],o=a[1];return r.a.createElement(d.a,{theme:_},r.a.createElement("div",{className:ta.a.App},r.a.createElement(i.a,{basename:"/startblock-frontend-monitoring"},r.a.createElement(s.d,null,t&&r.a.createElement(s.b,{exact:!0,path:"/",component:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(Oa,null),r.a.createElement(Ae,null),r.a.createElement(ea,null))}}),r.a.createElement(s.b,{exact:!0,path:"/login",component:function(){return r.a.createElement(Be,{loggedIn:t,setLogged:o})}}),r.a.createElement(s.a,{to:t?"/":"/login"})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ja=t(43),ka=t(213),xa={mode:"none",generator:4,net:3,load:4,connections:6,limited:!1};function Pa(e){var a=e.generator,t=e.net,n=e.load,r=e.connections,o=e.limited;return 4===a?4===t?4===n?6===r?o?"limited_network":"regular":0!==r||o?"none":"no_neighbors":"none":0!==t||4!==n||6!==r||o?"none":"no_network":"none"}var Na=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xa,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case he:switch(a.mode){case"limited_network":return Object(ae.a)({},e,{mode:a.mode,limited:!0,generator:4,net:4,load:4,connections:6});case"regular":return Object(ae.a)({},e,{mode:a.mode,limited:!1,generator:4,net:4,load:4,connections:6});case"no_neighbors":return Object(ae.a)({},e,{mode:a.mode,limited:!1,generator:4,net:4,load:4,connections:0});case"no_network":return Object(ae.a)({},e,{mode:a.mode,limited:!1,generator:4,net:0,load:4,connections:6});default:return Object(ae.a)({},e,{mode:a.mode})}case be:var t={};switch(a.payload.id){case 3:case 5:case 27:case 29:t=Object(ae.a)({},e,{net:e.net-Math.pow(-1,a.payload.state)});break;case 7:case 11:case 19:case 24:t=Object(ae.a)({},e,{generator:e.generator-Math.pow(-1,a.payload.state)});break;case 9:case 16:case 15:case 160:case 17:case 22:t=Object(ae.a)({},e,{connections:e.connections-Math.pow(-1,a.payload.state)});break;case 12:case 13:case 20:case 25:t=Object(ae.a)({},e,{load:e.load-Math.pow(-1,a.payload.state)})}return Object(ae.a)({},t,{mode:Pa(t)});default:return e}},Ia=[{generator:{type:"ACCUMULATOR",output:!1,performance:E,active:!1},load:{performance:E,active:!1},net:{active:!1,performance:E},profile:{name:"Alpha",money:E},active:!1},{generator:{type:"SOLAR_PANEL_DOUBLE",output:!1,performance:E,active:!1},load:{performance:E,active:!1},net:{active:!1,performance:E},profile:{name:"Beta",money:E},active:!1},{generator:{type:"BENZOGENERATOR",output:!1,performance:E,active:!1},load:{performance:E,active:!1},net:{active:!1,performance:E},profile:{name:"Gamma",money:E},active:!1},{generator:{type:"SOLAR_PANEL",output:!1,performance:E,active:!1},load:{active:!1,performance:E},net:{active:!1,performance:E},profile:{name:"Delta",money:E},active:!1}];var Sa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ia,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case he:switch(a.mode){case"no_neighbors":case"regular":var t=Array.from(e);return t.forEach(function(e,a,t){var n=Object.assign({},t[a]);n.generator=Object.assign({},n.generator),n.net=Object.assign({},n.net),n.load=Object.assign({},n.load),n.generator.active=!0,n.net.active=!0,n.load.active=!0,t[a]=n}),t;case"limited_network":var n=Array.from(e);return n.forEach(function(e,a,t){var n=Object.assign({},t[a]);n.generator=Object.assign({},n.generator),n.net=Object.assign({},n.net),n.load=Object.assign({},n.load),n.generator.active=!0,n.net.active=!0,n.load.active=!0,t[a]=n}),n;case"no_network":var r=Array.from(e);return r.forEach(function(e,a,t){var n=Object.assign({},t[a]);n.generator=Object.assign({},n.generator),n.net=Object.assign({},n.net),n.load=Object.assign({},n.load),n.generator.active=!0,n.net.active=!1,n.load.active=!0,t[a]=n}),r;default:throw new Error("Unknown mode")}case be:switch(a.payload.id){case 7:case 19:case 11:case 24:var o=Array.from(e),l=[7,11,19,24].indexOf(a.payload.id),c=Object.assign({},o[l]);return c.generator=Object.assign({},c.generator),c.generator.active=!c.generator.active,o[l]=c,o;case 12:case 13:case 20:case 25:var i=Array.from(e),s=[12,13,20,25].indexOf(a.payload.id),d=Object.assign({},i[s]);return d.load=Object.assign({},d.load),d.load.active=!d.load.active,i[s]=d,i;case 3:case 5:case 27:case 29:var u=Array.from(e),_=[3,5,27,29].indexOf(a.payload.id),p=Object.assign({},u[_]);return p.net=Object.assign({},p.net),p.net.active=!p.net.active,u[_]=p,u;default:return e}case ve:switch(a.payload.uri){case"agents":var m=Array.from(e);return console.log("data: ",a.payload.data),m[a.payload.data.id-1].active=a.payload.data.status,m;case"cells":var g=Array.from(e),f=g[a.payload.data.id-1];return f.profile.money=a.payload.data.value&&Number(a.payload.data.value).toFixed(1),g[a.payload.data.id-1]=Object(ae.a)({},e[a.payload.data.id-1],f),g;case"arrows":var b=Array.from(e);switch(a.payload.data.id){case 1:case 2:case 3:case 4:var h=b[a.payload.data.id-1];return h.net.performance=a.payload.data.value&&Number(a.payload.data.value).toFixed(3),h.net.active=a.payload.data.status,b[a.payload.data.id-1]=h,b;case 5:case 9:case 7:case 11:var v=[5,9,7,11].indexOf(a.payload.data.id),w=b[v];return w.generator.performance=a.payload.data.value&&Number(a.payload.data.value).toFixed(3),w.generator.active=a.payload.data.status,b[v]=w,b;case 6:case 10:case 8:case 12:var y=[6,10,8,12].indexOf(a.payload.data.id),C=b[y];return C.load.performance=a.payload.data.value&&Number(a.payload.data.value).toFixed(3),C.load.active=a.payload.data.status,b[y]=C,b;default:throw new Error("Undefined id of arrow.")}default:return e}default:return e}},Ta=[{active:!1,output:!0,performance:E},{active:!1,output:!0,performance:E},{active:!1,output:!0,performance:E},{active:!1,output:!0,performance:E},{active:!1,output:!0,performance:E},{active:!1,output:!0,performance:E}];var La=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ta,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case he:switch(a.mode){case"no_neighbors":var t=Array.from(e);return t.forEach(function(e,a,t){t[a]=Object.assign({},e),t[a].active=!1}),t;case"limited_network":case"no_network":case"regular":var n=Array.from(e);return n.forEach(function(e,a,t){t[a]=Object.assign({},e),t[a].active=!0}),n;default:throw new Error("Unknown mode.")}case be:switch(a.payload.id){case 9:case 15:case 16:case 160:case 17:case 22:var r=Array.from(e),o=Object.assign({},r[[9,15,16,160,17,22].indexOf(a.payload.id)]);return o.active=!o.active,r[[9,15,16,160,17,22].indexOf(a.payload.id)]=o,r;default:return e}case ve:switch(a.payload.uri){case"arrowdirections":var l=[1,4,6,5,2,3].indexOf(a.payload.data.id),c=Array.from(e),i=c[l];return i.performance=a.payload.data.value,i.output=a.payload.data.directionfrom===["enode1","enode2","enode3","enode4"][[1,1,1,2,2,3][l]-1],i.active=a.payload.data.status,c[l]=i,c;default:return e}default:return e}},Ra=function(e,a){return Object(ae.a)({},e,a)},Ma={money:E,performance:E,sumPerformance:E};var Da=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ma,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case ve:return"router"===a.payload.uri?Ra(e,{sumPerformance:a.payload.data.power&&Number(a.payload.data.power).toFixed(3),money:a.payload.data.balance&&Number(a.payload.data.balance).toFixed(1),performance:a.payload.data.energy&&Number(a.payload.data.energy).toFixed(3)}):e;default:return e}},Ba=Object(ja.c)({energyCells:Sa,connections:La,_net:Da,hdr:Na}),Ua=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ja.d,Fa=Object(ja.e)(Ba,Ua(Object(ja.a)(ka.a)));l.a.render(r.a.createElement(se.a,{store:Fa},r.a.createElement(Aa,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},74:function(e,a,t){e.exports={"buttons-group__container":"ButtonsGroup_buttons-group__container__1shol","buttons-group__button":"ButtonsGroup_buttons-group__button__1xqXG","buttons-group__button--active":"ButtonsGroup_buttons-group__button--active__2_NEU"}}},[[218,1,2]]]);
//# sourceMappingURL=main.4e425012.chunk.js.map